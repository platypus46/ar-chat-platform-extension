<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
    <script>
        AFRAME.registerComponent('char-pager', {
            schema: {
                chars: {default: ['!', '@', '#', '$', '%', '^', '&', '*', '(', ')']},
                current: {default: 0}
            },
            init: function () {
                let data = this.data;
                let el = this.el;

                function refreshChars() {
                    let start = data.current;
                    let end = start + 5;
                    let displayedChars = data.chars.slice(start, end);

                    el.innerHTML = ''; 

                   
                    displayedChars.forEach((char, index) => {
                        let charEntity = document.createElement('a-text');
                        charEntity.setAttribute('value', char);
                        charEntity.setAttribute('position', {x: index * 0.3 - 0.6, y: 0, z: 0}); // 간격 조절
                        charEntity.setAttribute('scale', '0.5 0.5 0.5'); 
                        charEntity.setAttribute('class', 'clickable');
                        charEntity.addEventListener('click', function() {
                            charEntity.setAttribute('color', 'yellow');
                            console.log('Character Clicked:', char);
                        });
                        el.appendChild(charEntity);
                    });

                    // 이전버튼
                    if (start > 0) {
                        let prevButton = document.createElement('a-text');
                        prevButton.setAttribute('value', '<');
                        prevButton.setAttribute('position', {x: -1, y: 0, z: 0}); 
                        prevButton.setAttribute('scale', '0.5 0.5 0.5'); 
                        prevButton.setAttribute('class', 'clickable');
                        prevButton.addEventListener('click', function() {
                            data.current -= 5;
                            refreshChars();
                        });
                        el.appendChild(prevButton);
                    }

                    // 다음버튼
                    if (end < data.chars.length) {
                        let nextButton = document.createElement('a-text');
                        nextButton.setAttribute('value', '>');
                        nextButton.setAttribute('position', {x: 1.5, y: 0, z: 0}); // 위치 조절
                        nextButton.setAttribute('scale', '0.5 0.5 0.5'); 
                        nextButton.setAttribute('class', 'clickable');
                        nextButton.addEventListener('click', function() {
                            data.current += 5;
                            refreshChars();
                        });
                        el.appendChild(nextButton);
                    }
                }

                refreshChars();
            }
        });
    </script>
</head>
<body>
    <a-scene>
        <a-entity char-pager position="0 1.6 -2"></a-entity>

     
        <a-entity laser-controls="hand: left" raycaster="objects: .clickable"></a-entity>

        <a-entity laser-controls="hand: right" raycaster="objects: .clickable"></a-entity>
        <a-entity id="leftHand" hand-tracking-controls="hand: left;" hand-tracking-extras>
            <a-entity finger-cursor raycaster="objects: .clickable; far: 0.03"></a-entity>
        </a-entity>
        <a-entity id="rightHand" hand-tracking-controls="hand: right;" hand-tracking-extras>
            <a-entity finger-cursor raycaster="objects: .clickable; far: 0.03"></a-entity>
        </a-entity>
    </a-scene>
</body>
</html>

